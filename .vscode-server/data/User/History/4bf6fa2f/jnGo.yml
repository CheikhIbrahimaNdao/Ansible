---
- name: Retrieve MySQL user password
  hosts: localhost
  gather_facts: no
  vars_prompt:
    - name: mysql_root_password
      prompt: "Enter MySQL root password"
      private: yes
  tasks:
    - name: Get MySQL user password
      shell: "mysql -uroot -p{{ mysql_root_password }} -e SELECT password FROM mysql.user WHERE User='User1';"
      register: mysql_user_info
      changed_when: false

    - debug:
        msg: "Password for MySQL user 'User1': {{ mysql_user_info.stdout }}"
